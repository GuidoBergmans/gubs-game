namespace SpriteKind {
    export const munt = SpriteKind.create()
}
scene.onOverlapTile(SpriteKind.Player, myTiles.tile3, function (sprite, location) {
    game.over(false)
})
scene.onOverlapTile(SpriteKind.Player, myTiles.tile14, function (sprite, location) {
    game.over(false)
})
controller.up.onEvent(ControllerButtonEvent.Pressed, function () {
    if (puppet.isHittingTile(CollisionDirection.Bottom)) {
        puppet.vy = -200
    }
})
scene.onOverlapTile(SpriteKind.Player, myTiles.tile4, function (sprite, location) {
    tiles.setTileAt(location, myTiles.tile9)
    info.changeScoreBy(1)
})
scene.onOverlapTile(SpriteKind.Player, myTiles.transparency16, function (sprite, location) {
	
})
controller.down.onEvent(ControllerButtonEvent.Released, function () {
    PuppetStraight(puppet)
})
controller.left.onEvent(ControllerButtonEvent.Pressed, function () {
    puppet.ax = 0 - ax
})
controller.right.onEvent(ControllerButtonEvent.Released, function () {
    puppet.ax = 0
})
controller.left.onEvent(ControllerButtonEvent.Released, function () {
    puppet.ax = 0
})
controller.right.onEvent(ControllerButtonEvent.Pressed, function () {
    puppet.ax = ax
})
controller.down.onEvent(ControllerButtonEvent.Pressed, function () {
    PuppetDown(puppet)
})
function PuppetStraight (poppetje: Sprite) {
    if (puppet.isHittingTile(CollisionDirection.Bottom)) {
        puppet.vy = -50
    }
    puppet_state = puppet_state_straight
}
function PuppetDown (poppetje: Sprite) {
    puppet_state = puppet_state_down
}
function nextlevel () {
    level += 1
    vx += 20
    puppet.vx = vx
    puppet.say("level " + (level + 1), 5000)
    if (level == 0) {
        tiles.setTilemap(tiles.createTilemap(hex`fa0008000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001010101010101010100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000020202020202020202000000000000000000000101010101000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000202010101020202000000000000000000000000000000000000030000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000301010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101`, img`
            ..........................................................................................................................................................................................................................................................
            ..........................................................................................................................................................................................................................................................
            ..........................................................................................................................................................................................................................................................
            ..........................................................................................................................................................................................................................................................
            .........222222222........................................................................................................................................................................................................................................
            .............2..............22222.........................................................................................................................................................................................................................
            .............................222..........................................................................................................................................................................................................................
            2222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222
            `, [myTiles.transparency16,myTiles.tile12,myTiles.tile13,myTiles.tile5], TileScale.Sixteen))
    } else if (level == 1) {
        tiles.setTilemap(tiles.createTilemap(hex`fa00190003030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030302030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030101010101010303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303010101010101010101010101010101010103030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303010101010101010101010101010101010101010101010101010101030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030301010101010101010101010101010101010101010101010101010101010101010101010101010303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010103030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030301010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030301010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010103030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030301010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010103030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010103030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030301010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010103030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030301010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010303030303030303030303030303030303030303030303030303030303030303030303030303030101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010103030303030303030303030303030303030303030303030303030303010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101030303030303030303030303030303030303010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010303030303030301010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101`, img`
            ..........................................................................................................................................................................................................................................................
            ....................................................................................................................................................................................................................................................222222
            .........................................................................................................................................................................................................................................22222222222......
            ...............................................................................................................................................................................................................................2222222222.................
            ....................................................................................................................................................................................................................22222222222...........................
            .........................................................................................................................................................................................................22222222222......................................
            ..............................................................................................................................................................................................22222222222.................................................
            ...................................................................................................................................................................................22222222222............................................................
            .........................................................................................................................................................................2222222222.......................................................................
            ..............................................................................................................................................................22222222222.................................................................................
            ...................................................................................................................................................22222222222............................................................................................
            ........................................................................................................................................22222222222.......................................................................................................
            .............................................................................................................................22222222222..................................................................................................................
            ...................................................................................................................2222222222.............................................................................................................................
            ........................................................................................................22222222222.......................................................................................................................................
            .............................................................................................22222222222..................................................................................................................................................
            ..................................................................................22222222222.............................................................................................................................................................
            ........................................................................2222222222........................................................................................................................................................................
            .............................................................22222222222..................................................................................................................................................................................
            ..................................................22222222222.............................................................................................................................................................................................
            .......................................22222222222........................................................................................................................................................................................................
            ............................22222222222...................................................................................................................................................................................................................
            ..................2222222222..............................................................................................................................................................................................................................
            .......22222222222........................................................................................................................................................................................................................................
            2222222...................................................................................................................................................................................................................................................
            `, [myTiles.transparency16,myTiles.tile12,myTiles.tile5,myTiles.tile4], TileScale.Sixteen))
    } else if (level == 2) {
        tiles.setTilemap(tiles.createTilemap(hex`fa0008000000000000000000000000000000000000000000000000000000000000000000000000000000000000000400000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001010101010101010100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000020202020202020202000000000000000000000101010101000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000202010101020202000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000301010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101`, img`
            ..........................................................................................................................................................................................................................................................
            ..........................................................................................................................................................................................................................................................
            ..........................................................................................................................................................................................................................................................
            ..........................................................................................................................................................................................................................................................
            ..........................................................................................................................................................................................................................................................
            ............................22222.........................................................................................................................................................................................................................
            .............................222..........................................................................................................................................................................................................................
            2222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222
            `, [myTiles.transparency16,myTiles.tile12,myTiles.tile13,myTiles.tile5,myTiles.tile14], TileScale.Sixteen))
    } else if (level == 3) {
    	
    } else if (level == 4) {
        tiles.setTilemap(tiles.createTilemap(hex`fa0008000000000000000000000000000000000000000000000000000000000000020202000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000202020000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000002020200000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000200000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001010101010101010100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000020202020202020202000000000000000000000101010101000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000202010101020202000000000003000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000301010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101`, img`
            ..........................................................................................................................................................................................................................................................
            ..........................................................................................................................................................................................................................................................
            ..........................................................................................................................................................................................................................................................
            ..........................................................................................................................................................................................................................................................
            .........222222222........................................................................................................................................................................................................................................
            ............................22222.........................................................................................................................................................................................................................
            .............................222..........................................................................................................................................................................................................................
            2222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222
            `, [myTiles.transparency16,myTiles.tile12,myTiles.tile13,myTiles.tile5], TileScale.Sixteen))
    } else if (level == 5) {
        tiles.setTilemap(tiles.createTilemap(hex`fa0008000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000600000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000030000000000000003000300030003000300030006000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000010101010101010201010101010101020102010201020102010201060000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000003000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001010101010102020202020202020404040404040404040404040404040404040404040600000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000030000000000000000000003000300000000000000000000000300000000000000000000030000000000000000000000000000000000030000000000030000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000030000000000000000030000000000000000000300000000000003000003000000000000000101010101010202020202020202040404040404040404040404040404040404040404040404040404040406000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001010100000000000000000001010101000000000000000000010101000000000000000001010101000000000000000000000003000000010101010100000101010003000000000000000000000000000000000000000000000000000000000000000000000000000101010101010101010201010101010101010201010101010101010102010101010101020101010101010101020202020202020204040404040404040404040404040404040404040404040404040404040404040404040404060000000000000000030000000000000000000006000000000000000000000300000000000000000000000000000000000300000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000030000000000010101010101000000000000000000000001010101000000000003000300030003000300030003000300030000000000000000000000000504040404040404040404040404040404040404040404040404040404040404040404040404040404040404040404040404040404040404040404040404040404040404040404040404040404040404040404040404040404040601010101010101010101020202010101010101010202020101010101010201020101010101020201010101010101010201010101010102020202020202010101010102020202020202020201010101020202020202020101010102020202020202010101010101020202020202020202020202020202020202020202020201010102010201020102010201020102010201020102010101010101010102020204040404040404040404040404040404040404040404040404040404040404040404040404040404040404040404040404040404040404040404040404040404040404040404040404040404040404040404040404040404040406`, img`
            ..........................................................................................................................................................................................................................................................
            ..........................................................................................................................................................................................................................................................
            ..............................................................................................................................................................................................................................2222222.2222222.2.2.2.2.2.2.
            ......................................................................................................................................................................................................................222222..............................
            ..............................................................................................................................................................................................................222222......................................
            ........................................................222.........2222.........222........2222...............22222..222.......................................222222222.22222222.222222222.222222.22222222..............................................
            ........................................................................................................222222...........2222.............................................................................................................................
            2222222222...2222222...222222.2.22222..22222222.222222.......22222.........2222.......2222.......222222.......................222.2.2.2.2.2.2.2.2.2.22222222..............................................................................................
            `, [myTiles.transparency16,sprites.vehicle.roadHorizontal,myTiles.tile3,myTiles.tile4,myTiles.tile6,myTiles.tile8,myTiles.tile5], TileScale.Sixteen))
    } else {
        level = 0
        nextlevel()
    }
}
scene.onOverlapTile(SpriteKind.Player, myTiles.tile5, function (sprite, location) {
    puppet.setPosition(0, 0)
    puppet.ay = 400
    nextlevel()
})
scene.onOverlapTile(SpriteKind.Player, myTiles.tile13, function (sprite, location) {
    game.over(false)
})
let anim_step = 0
let count = 0
let levels: Image[] = []
let puppet_state_straight = 0
let puppet_state_down = 0
let puppet_state = 0
let ax = 0
let vx = 0
let level = 0
let puppet: Sprite = null
scene.setBackgroundColor(6)
puppet = sprites.create(img`
    ffffffffffffffff
    ffffffffffffffff
    ffffffffffffffff
    ffffffffffffffff
    ffffffffffffffff
    ffffffffffffffff
    ffffffffffffffff
    ffffffffffffffff
    ffffffffffffffff
    ffffffffffffffff
    ffffffffffffffff
    ffffffffffffffff
    ffffffffffffffff
    ffffffffffffffff
    ffffffffffffffff
    ffffffffffffffff
    ffffffffffffffff
    ffffffffffffffff
    ffffffffffffffff
    ffffffffffffffff
    ffffffffffffffff
    ffffffffffffffff
    ffffffffffffffff
    ffffffffffffffff
    ffffffffffffffff
    ffffffffffffffff
    ffffffffffffffff
    ffffffffffffffff
    ffffffffffffffff
    ffffffffffffffff
    ffffffffffffffff
    ffffffffffffffff
    `, SpriteKind.Player)
PuppetStraight(puppet)
level = -1
vx = 100
ax = 400
puppet_state = 1
puppet_state_down = 0
puppet_state_straight = 1
nextlevel()
puppet.ay = 400
scene.cameraFollowSprite(puppet)
effects.confetti.endScreenEffect()
forever(function () {
    if (puppet_state == puppet_state_straight) {
        levels = [img`
            ....ffffffff....
            ....ffffffff....
            ....ffffffff....
            ....ffffffff....
            ....ffffffff....
            ....ffffffff....
            ....ffffffff....
            ......ffff......
            ......ffff......
            ......ffff......
            ....ffffffff....
            ....ffffffff....
            ....ffffffff....
            ....ffffffff....
            ....ffffffff....
            ....ffffffff....
            ....ffffffff....
            ....ffffffff....
            ....ffffffff....
            ......fff.......
            ......fff.......
            ......fff.......
            ......fff.......
            ......fff.......
            ......fff.......
            ......fff.......
            ......fff.......
            ......fff.......
            ......fff.......
            ......fff.......
            ......fff.......
            ......fff.......
            `, img`
            ....ffffffff....
            ....ffffffff....
            ....ffffffff....
            ....ffffffff....
            ....ffffffff....
            ....ffffffff....
            ....ffffffff....
            ......ffff......
            ......ffff......
            ......ffff......
            ....ffffffff....
            ....ffffffff....
            ....ffffffff....
            ....ffffffff....
            ....ffffffff....
            ....ffffffff....
            ....ffffffff....
            ....ffffffff....
            ....ffffffff....
            ......fffff.....
            ......ffffff....
            ......fffffff...
            ......ffffffff..
            ......fff.ffff..
            ......fff..fff..
            ......fff..fff..
            ......fff..fff..
            ......fff..fff..
            ......fff..fff..
            ......fff.......
            ......fff.......
            ......fff.......
            `, img`
            ................
            ....ffffffff....
            ....ffffffff....
            ....ffffffff....
            ....ffffffff....
            ....ffffffff....
            ....ffffffff....
            ....ffffffff....
            ......ffff......
            ......ffff......
            ......ffff......
            ....ffffffff....
            ....ffffffff....
            ....ffffffff....
            ....ffffffff....
            ....ffffffff....
            ....ffffffff....
            ....ffffffff....
            ....ffffffff....
            ....ffffffff....
            .....ffffff.....
            .....ffffff.....
            .....ffffff.....
            ....fffffff.....
            ....fffffff.....
            ....fff.ffff....
            ...ffff.ffff....
            ...ffff..fff....
            ...fff...fff....
            ..ffff...ffff...
            ..ffff...ffff...
            ..fff.....fff...
            `, img`
            ....ffffffff....
            ....ffffffff....
            ....ffffffff....
            ....ffffffff....
            ....ffffffff....
            ....ffffffff....
            ....ffffffff....
            ......ffff......
            ......ffff......
            ......ffff......
            ....ffffffff....
            ....ffffffff....
            ....ffffffff....
            ....ffffffff....
            ....ffffffff....
            ....ffffffff....
            ....ffffffff....
            ....ffffffff....
            ....ffffffff....
            .....fffff......
            .....fffff......
            .....fffff......
            ....ffffff......
            ....ffffff......
            ....ffffff......
            ...fffffff......
            ...fffffff......
            ...fff.fff......
            ..ffff.fff......
            ..ffff.fff......
            ..fff..fff......
            .......fff......
            `]
    } else {
        levels = [img`
            ................
            ................
            ................
            ................
            ................
            ................
            ................
            ................
            ................
            ................
            ................
            ................
            ................
            ................
            ................
            ................
            ..ffffffff.fffff
            ..ffffffff.fffff
            ..ffffffffffffff
            ..ffffffffffffff
            ..ffffffffffffff
            ..ffffffff.fffff
            ..ffffffff.fffff
            ..ffffffff......
            ..ffffffff......
            ....fff.........
            ....fff.........
            ....fff.........
            ....fff.........
            ....fff.........
            ....fff.........
            ....fff.........
            `, img`
            ................
            ................
            ................
            ................
            ................
            ................
            ................
            ................
            ................
            ................
            ................
            ................
            ................
            ................
            ................
            ................
            ..ffffffff.fffff
            ..ffffffff.fffff
            ..ffffffffffffff
            ..ffffffffffffff
            ..ffffffffffffff
            ..ffffffff.fffff
            ..ffffffff.fffff
            ..ffffffff......
            ..ffffffff......
            ....fffff.......
            ....ffffff......
            ....fffffff.....
            ....ffffffff....
            ....fff.ffff....
            ....fff..fff....
            ....fff..fff....
            `, img`
            ................
            ................
            ................
            ................
            ................
            ................
            ................
            ................
            ................
            ................
            ................
            ................
            ................
            ................
            ................
            ................
            ..ffffffff.fffff
            ..ffffffff.fffff
            ..ffffffffffffff
            ..ffffffffffffff
            ..ffffffffffffff
            ..ffffffff.fffff
            ..ffffffff.fffff
            ..ffffffff......
            ..ffffffff......
            ...ffffff.......
            ...ffffff.......
            ...ffffff.......
            ..fffffff.......
            ..fffffff.......
            ..fff.ffff......
            .ffff.ffff......
            `, img`
            ................
            ................
            ................
            ................
            ................
            ................
            ................
            ................
            ................
            ................
            ................
            ................
            ................
            ................
            ................
            ................
            ..ffffffff.fffff
            ..ffffffff.fffff
            ..ffffffffffffff
            ..ffffffffffffff
            ..ffffffffffffff
            ..ffffffff.fffff
            ..ffffffff.fffff
            ..ffffffff......
            ..ffffffff......
            ...fffff........
            ...fffff........
            ...fffff........
            ..ffffff........
            ..ffffff........
            ..ffffff........
            .fffffff........
            `]
    }
    count += 1
    if (count > 200 / Math.abs(puppet.vx)) {
        count = 0
        anim_step = (anim_step + (puppet.vx / Math.abs(puppet.vx) + levels.length)) % levels.length
        puppet.setImage(levels[anim_step])
    }
    pause(10)
})
